# 网球热微信小程序

## 项目简介

网球热是一个专业的网球赛事管理微信小程序，提供赛事发布、报名、比赛记录、实时比分更新和社交分享等功能。

## 功能特性

- 🎾 赛事浏览和筛选
- 📝 赛事发布和管理
- 👥 用户注册和登录
- 📊 个人比赛记录统计
- 🏢 俱乐部管理
- 📱 响应式设计
- ⏱️ **实时比分更新（需后端支持）**
- 📤 **社交分享功能**
- 🔔 **推送通知（需后端和模板ID支持）**
- 💰 **模拟支付功能（需真实支付接口支持）**
- 🚀 **骨架屏加载优化**
- 💡 **空状态操作引导**
- 📈 **缓存机制优化**

## 技术栈

- 前端：微信小程序 (WXML, WXSS, JavaScript)
- 后端：Node.js (计划中)
- 数据库：MongoDB (计划中)

## 项目结构

```
.                 # 项目根目录
├── app.js                 # 小程序入口文件
├── app.json              # 小程序配置文件
├── app.wxss              # 全局样式文件
├── sitemap.json          # 站点地图配置
├── project.config.json   # 项目配置文件
├── pages/                # 页面目录
│   ├── index/          # 首页
│   ├── detail/         # 详情页
│   ├── event/          # 赛事页
│   └── user/           # 用户中心
├── pages/user-related/   # **用户相关分包**
│   ├── login/          # 登录页
│   └── event-create/   # 创建赛事页
├── components/           # 组件目录
│   ├── loading/         # 加载组件
│   ├── empty/           # 空状态组件
│   └── match-card/      # 比赛卡片组件
└── utils/               # 工具函数
    ├── api.js           # API接口
    ├── auth.js          # 认证工具
    └── util.js          # 通用工具
```

## 开发环境

1. 下载并安装[微信开发者工具](https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html)
2. 克隆项目到本地
3. 在微信开发者工具中导入项目
4. 配置小程序AppID（需要在微信公众平台申请）

## 部署步骤

### 1. 申请小程序账号

1. 访问[微信公众平台](https://mp.weixin.qq.com/)
2. 注册小程序账号
3. 获取AppID

### 2. 配置项目

1. 修改 `project.config.json` 中的 `appid` 为你的小程序AppID
2. 修改 `app.json` 中的页面路径和 `subPackages` 配置。

### 3. 上传代码

1. 在微信开发者工具中点击"上传"
2. 填写版本号和项目备注
3. 上传代码到微信后台

### 4. 提交审核

1. 登录[微信公众平台](https://mp.weixin.qq.com/)
2. 进入"版本管理"
3. 选择开发版本，点击"提交审核"
4. 填写审核信息并提交

### 5. 发布上线

审核通过后，在版本管理页面点击"发布"即可上线。

## 开发注意事项

1.  **API接口**：目前使用模拟数据，实际部署时需要配置真实的后端API。
2.  **消息订阅模板ID**：推送通知功能需要您在微信公众平台配置消息订阅模板，并将模板ID替换 `pages/detail/detail.js` 中的 `YOUR_TEMPLATE_ID_HERE`。
3.  **图片资源**：建议使用CDN或云存储服务。
4.  **数据安全**：注意用户隐私保护和数据安全。
5.  **性能优化**：注意小程序包大小限制和性能优化。

## 功能模块

### 首页
- 比赛列表展示
- 状态筛选（进行中/已完成/即将开始）
- 分页加载
- 搜索和筛选功能
- 骨架屏加载动画
- 空数据引导提示

### 赛事页
- 赛事列表
- 赛事创建
- 报名功能
- 模拟支付功能
- 筛选和搜索
- 空数据引导提示

### 用户中心
- 用户登录/注册
- 个人资料管理
- 比赛记录统计
- 俱乐部管理
- 缓存机制优化
- 空数据引导提示

### 详情页
- 比赛详细信息
- 选手信息
- 比分展示
- 报名功能
- 社交分享
- 推送通知订阅（需配置模板ID）
- 实时比分模拟更新

## 完整测试步骤

请在微信开发者工具中模拟不同设备（尤其是较小屏幕）并进行以下测试：

### 1. UI/UX 检查
- **整体风格：** 确认所有页面是否符合 Roland-Garros 风格设计和深绿色主题 (#0A4A39)。
- **排版：** 检查所有页面的文字是否无溢出、无遮挡，元素布局是否协调。
- **响应式布局：** 在不同屏幕尺寸和方向下，页面元素是否自适应，无错位或截断。
- **骨架屏：** 首次进入首页或数据加载时，骨架屏是否正常显示。
- **空状态引导：** 首页、赛事页、用户中心（俱乐部和比赛记录）在无数据时，是否显示友好的操作引导。

### 2. 功能测试
- **登录/注册：**
  - 未登录状态下，跳转到登录页。
  - 模拟登录和注册流程，检查用户信息是否正确显示。
  - 退出登录功能是否正常。
- **首页 (pages/index/index)：**
  - 比赛列表是否正确加载和分页。
  - 切换“进行中”、“已完成”、“即将开始”Tab，数据是否正确更新。
  - 筛选功能（赛事类型、选手搜索、地区）是否正常工作，并影响列表数据。
  - “报名”按钮是否显示，点击后是否有提示（目前为模拟提示）。
- **赛事页 (pages/event/event)：**
  - 赛事列表是否正确加载和分页。
  - 点击“创建”按钮是否跳转到创建赛事页。
  - 筛选功能（赛事类型、地区、日期范围）是否正常工作。
  - “报名”按钮是否正常，点击“支付报名费”是否有模拟支付成功提示。
- **详情页 (pages/detail/detail)：**
  - 从列表页点击比赛，是否正确跳转并显示比赛详细信息。
  - 实时比分模拟更新是否在控制台打印日志（如果比赛状态为“进行中”）。
  - 点击右上角“分享”按钮，是否弹出分享选项。
  - 点击“订阅比赛通知”按钮，是否弹出订阅弹窗并提示订阅成功/失败。
- **用户中心 (pages/user/user)：**
  - 个人资料、统计数据、俱乐部列表、比赛记录是否正确显示。
  - 下拉刷新功能是否正常，数据是否更新。
  - “加载更多”功能是否正常。
  - 筛选比赛记录功能是否正常。

### 3. 性能测试
- **加载速度：** 观察页面切换和数据加载的速度是否流畅。
- **缓存：** 首次加载 `eventTypes`、用户资料和俱乐部列表后，再次进入页面时是否能快速显示（利用缓存）。

### 4. 异常情况测试
- **网络中断：** 模拟网络中断，检查页面加载和API请求的错误提示是否友好。
- **数据异常：** 模拟API返回空数据或错误数据，检查页面显示是否正常，是否有合适的提示。

## 更新日志

### v1.1.0 (2024-07-16)
- **功能增强：**
  - 添加了实时比分更新的模拟实现（需后端 WebSocket 支持）。
  - 增加了社交分享功能。
  - 增加了推送通知订阅入口（需后端和微信公众平台模板ID支持）。
  - 增加了赛事报名模拟支付功能（需真实微信支付接口支持）。
- **用户体验优化：**
  - 为首页添加了骨架屏加载动画。
  - 优化了首页、赛事页和用户中心的空状态引导文本。
  - 优化了统一的 API 错误处理机制。
- **性能优化：**
  - 实现了分包加载，将 `login` 和 `event-create` 页面移至 `pages/user-related` 分包。
  - 为 `eventTypes`、用户资料和俱乐部列表添加了缓存机制。

### v1.0.0 (2024-01-01)
- 初始版本发布
- 基础功能实现
- 用户认证系统
- 赛事管理功能

## 联系方式

如有问题或建议，请联系开发团队。

## 许可证

本项目采用 MIT 许可证。 