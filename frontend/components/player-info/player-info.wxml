<!-- player-info.wxml - 选手信息组件 -->
<view class="player-info-container {{layout}}">
  <!-- 单打布局 -->
  <view wx:if="{{format === 'singles'}}" class="singles-layout">
    <view class="player-card">
      <view class="player-avatar-wrapper">
        <image 
          class="player-avatar" 
          src="{{player.avatar || '/images/default-avatar.png'}}" 
          mode="aspectFill"
        />
        <view wx:if="{{player.ranking}}" class="ranking-badge">
          <text class="ranking-text">#{{player.ranking}}</text>
        </view>
      </view>
      <view class="player-details">
        <text class="player-name">{{player.name}}</text>
        <view class="player-meta">
          <text wx:if="{{player.country}}" class="player-country">{{player.country}}</text>
          <text wx:if="{{player.age}}" class="player-age">{{player.age}}岁</text>
        </view>
        <view wx:if="{{showStats}}" class="player-stats">
          <view class="stat-item">
            <text class="stat-label">胜率</text>
            <text class="stat-value">{{player.winRate || 'N/A'}}%</text>
          </view>
          <view class="stat-item">
            <text class="stat-label">比赛</text>
            <text class="stat-value">{{player.matchCount || 0}}</text>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- 双打布局 -->
  <view wx:elif="{{format === 'doubles'}}" class="doubles-layout">
    <view class="doubles-team">
      <view 
        wx:for="{{players}}" 
        wx:key="id"
        class="doubles-player"
      >
        <view class="player-avatar-wrapper">
          <image 
            class="player-avatar small" 
            src="{{item.avatar || '/images/default-avatar.png'}}" 
            mode="aspectFill"
          />
          <view wx:if="{{item.ranking}}" class="ranking-badge small">
            <text class="ranking-text">#{{item.ranking}}</text>
          </view>
        </view>
        <view class="player-details">
          <text class="player-name">{{item.name}}</text>
          <text wx:if="{{item.country}}" class="player-country">{{item.country}}</text>
        </view>
      </view>
    </view>
    
    <!-- 双打组合统计 -->
    <view wx:if="{{showStats && teamStats}}" class="team-stats">
      <view class="stat-item">
        <text class="stat-label">组合胜率</text>
        <text class="stat-value">{{teamStats.winRate || 'N/A'}}%</text>
      </view>
      <view class="stat-item">
        <text class="stat-label">配合次数</text>
        <text class="stat-value">{{teamStats.matchCount || 0}}</text>
      </view>
    </view>
  </view>

  <!-- 紧凑布局（用于比赛卡片） -->
  <view wx:elif="{{layout === 'compact'}}" class="compact-layout">
    <view class="compact-team">
      <view class="team-avatars">
        <image 
          wx:if="{{format === 'singles'}}"
          class="avatar-compact" 
          src="{{player.avatar || '/images/default-avatar.png'}}" 
          mode="aspectFill"
        />
        <view wx:elif="{{format === 'doubles'}}" class="doubles-avatars">
          <image 
            wx:for="{{players}}" 
            wx:key="id"
            class="avatar-compact small" 
            src="{{item.avatar || '/images/default-avatar.png'}}" 
            mode="aspectFill"
          />
        </view>
      </view>
      
      <view class="team-names">
        <text wx:if="{{format === 'singles'}}" class="name-compact">{{player.name}}</text>
        <view wx:elif="{{format === 'doubles'}}" class="doubles-names">
          <text 
            wx:for="{{players}}" 
            wx:key="id"
            class="name-compact"
          >{{item.name}}</text>
        </view>
      </view>
      
      <view wx:if="{{showRanking}}" class="team-ranking">
        <text wx:if="{{format === 'singles' && player.ranking}}" class="ranking-compact">#{{player.ranking}}</text>
        <view wx:elif="{{format === 'doubles'}}" class="doubles-ranking">
          <text 
            wx:for="{{players}}" 
            wx:key="id"
            wx:if="{{item.ranking}}"
            class="ranking-compact"
          >#{{item.ranking}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- 头像列表布局（用于选手选择） -->
  <view wx:elif="{{layout === 'avatar-list'}}" class="avatar-list-layout">
    <view class="avatar-list">
      <view wx:if="{{format === 'singles'}}" class="avatar-item" bindtap="onPlayerTap" data-player="{{player}}">
        <image class="avatar-list-img" src="{{player.avatar || '/images/default-avatar.png'}}" mode="aspectFill"/>
        <text class="avatar-list-name">{{player.name}}</text>
      </view>
      <view wx:elif="{{format === 'doubles'}}" class="doubles-avatar-group">
        <view 
          wx:for="{{players}}" 
          wx:key="id"
          class="avatar-item" 
          bindtap="onPlayerTap" 
          data-player="{{item}}"
        >
          <image class="avatar-list-img" src="{{item.avatar || '/images/default-avatar.png'}}" mode="aspectFill"/>
          <text class="avatar-list-name">{{item.name}}</text>
        </view>
      </view>
    </view>
  </view>
</view>
