<!-- 页面最外层容器 -->
<view class="page-container">
  <!-- 顶部导航栏（微信原生导航栏已设置标题为"LJ网球社"） -->

  <!-- 顶部横幅区域 -->
  <view class="banner">
    <view class="banner-bg"></view> <!-- 深绿色背景块 -->
    <image class="tennis-banner-image" src="/images/icon/tennis0.png" mode="aspectFill"></image>
    <view class="banner-content">
      <text class="club-title">LJ网球社</text>
      <text class="slogan">热爱网球 · 享受运动</text>
    </view>
  </view>

  <!-- 功能导航区域 -->
  <view class="func-nav">
    <view class="nav-item" bindtap="goToLeagueIntro">
      <view class="nav-icon"></view> <!-- 功能图标色块 -->
      <text class="nav-text">联盟介绍</text>
    </view>
    <view class="nav-item" bindtap="goToBrandEvents">
      <view class="nav-icon"></view>
      <text class="nav-text">品牌赛事</text>
    </view>
    <view class="nav-item" bindtap="goToPlayerRanking">
      <view class="nav-icon"></view>
      <text class="nav-text">球员排名</text>
    </view>
    <view class="nav-item" bindtap="goToPointsRanking">
      <view class="nav-icon"></view>
      <text class="nav-text">积分榜</text>
    </view>
  </view>

  <!-- 通知栏区域 -->
  <view class="notice-bar">
    <view class="notice-icon"></view> <!-- 通知图标色块 -->
    <text class="notice-text">本周六下午2点将举行月度积分赛，请各位成员踊跃报名！</text>
    <view class="close-icon" bindtap="closeNotice"></view> <!-- 关闭按钮色块 -->
  </view>

  <!-- 赛事列表标题及筛选区域 -->
  <view class="event-list-header">
    <view class="title-icon"></view> <!-- 标题图标色块 -->
    <text class="list-title">近期赛事</text>
    <view class="search-icon" bindtap="toggleSearch"></view> <!-- 搜索图标色块 -->
    <view class="filter-icon" bindtap="toggleFilter"></view> <!-- 筛选图标色块 -->
  </view>
  <!-- 赛事卡片列表区域 -->
  <view class="event-cards">
    <!-- 赛事卡片1 -->
    <view class="event-card" bindtap="goToEventDetail" data-id="1">
      <view class="card-img"></view> <!-- 赛事图片色块 -->
      <view class="card-info">
        <text class="card-title">[广州]白马杯Vol2-LOT(Love On Tennis)</text>
        <view class="tags">
          <text class="tag">ETA 200</text>
          <text class="tag">双打8</text>
          <text class="tag">20/20</text>
        </view>
        <view class="status">
          <text class="status-tag">报名中</text>
          <text class="time">7月26日(周六)19:00-8月2日(周六)22:00</text>
        </view>
      </view>
    </view>

    <!-- 赛事卡片2 -->
    <view class="event-card" bindtap="goToEventDetail" data-id="2">
      <view class="card-img"></view>
      <view class="card-info">
        <text class="card-title">[深圳]夏季精英挑战赛-ATP(Association of Tennis Professionals)</text>
        <view class="tags">
          <text class="tag">ETA 300</text>
          <text class="tag">单打16</text>
          <text class="tag">15/16</text>
        </view>
        <view class="status">
          <text class="status-tag">即将开始</text>
          <text class="time">8月5日(周六)09:00-8月6日(周日)18:00</text>
        </view>
      </view>
    </view>

    <!-- 赛事卡片3 -->
    <view class="event-card" bindtap="goToEventDetail" data-id="3">
      <view class="card-img"></view>
      <view class="card-info">
        <text class="card-title">[上海]都市网球公开赛-WTA(Women's Tennis Association)</text>
        <view class="tags">
          <text class="tag">ETA 150</text>
          <text class="tag">混双12</text>
          <text class="tag">8/12</text>
        </view>
        <view class="status">
          <text class="status-tag">报名中</text>
          <text class="time">8月12日(周六)14:00-8月13日(周日)17:00</text>
        </view>
      </view>
    </view>

    <!-- 动态赛事卡片（如果有数据的话） -->
    <block wx:if="{{matches.length > 0}}">
      <view wx:for="{{matches}}" wx:for-item="match" wx:key="_id" class="event-card" bindtap="goToDetail" data-id="{{match._id}}">
        <view class="card-img"></view>
        <view class="card-info">
          <text class="card-title">{{match.matchName || match.eventType}}</text>
          <view class="tags">
            <text class="tag">{{match.eventType}}</text>
            <text class="tag">{{match.stage}}</text>
            <text class="tag">积分赛</text>
          </view>
          <view class="status">
            <text class="status-tag">{{match.status === '已结束' ? '已结束' : match.status === '比赛中' ? '进行中' : '报名中'}}</text>
            <text class="time">{{formatMatchTime(match.scheduledTime)}}</text>
          </view>
        </view>
      </view>
    </block>
  </view>


  <!-- 搜索面板（隐藏状态） -->
  <view class="search-panel {{showSearch ? 'show' : ''}}" wx:if="{{showSearch}}">
    <view class="search-content">
      <input class="search-input" placeholder="搜索赛事..." value="{{searchQuery}}" bindinput="onSearchInput" />
      <button class="search-btn" bindtap="onSearch">搜索</button>
    </view>
  </view>

  <!-- 筛选面板（隐藏状态） -->
  <view class="filter-panel {{showFilter ? 'show' : ''}}" wx:if="{{showFilter}}">
    <view class="filter-content">
      <view class="filter-title">筛选条件</view>
      <view class="filter-options">
        <view class="filter-option" bindtap="filterByType" data-type="all">全部</view>
        <view class="filter-option" bindtap="filterByType" data-type="single">单打</view>
        <view class="filter-option" bindtap="filterByType" data-type="double">双打</view>
      </view>
      <button class="filter-confirm" bindtap="confirmFilter">确定</button>
    </view>
  </view>
</view>